<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Ahorcado</title>
	</head>
	<body>
        <script>	
            let words = [                                                 
                "ordenador",
                "ahorcado",
                "camello",
                "muñeca"
            ];
            let word = words[Math.floor(Math.random() * words.length)];
            let answerArray = [];
            for (let i = 0; i < word.length; i++){
                answerArray[i] = "_";
            }
            let remainigLetters = word.length;
            let newRemainigLetters = remainigLetters;
            let lives = 7;
            while ((remainigLetters > 0) && (lives !== 0)){
                alert("Vidas: " + lives + "\n" + answerArray.join(" ") + "\n" + remainigLetters + " letras para pasar"); 
                let guess = prompt("Escriba una letra o haga clic en Cancelar para salir del juego.");
                if (guess === null){
                    break;
                } else if (guess.length !== 1) {
                    alert("Escriba una sola letra.")
                } else {
                    guess = guess.toLowerCase();
                    for (let j = 0; j < word.length; j++) {
                        if (answerArray[j] === guess) {
                            alert("Lo siento, esta letra ya está aquí ... inténtalo de nuevo: |")
                            break;
                        }
                        if(word[j] === guess){
                        answerArray[j] = guess;
                        remainigLetters--;
                        }               
                    }
                }
                if (remainigLetters === newRemainigLetters) {
                    lives--;            
                }
                newRemainigLetters = remainigLetters;
            } 
            if (lives === 0) {
                alert("Tu vida ha terminado :( La palabra oculta era: " + word);
            } else if(remainigLetters === 0){
                alert("Felicitado! La palabra oculta era: " + word);
            } else {
                alert("Hhhmmmm .... ok, adiós .. (-_-)");
            }
        </script>
    </body>
</html>