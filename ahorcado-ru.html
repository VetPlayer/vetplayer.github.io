<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Виселица</title>
	</head>
	<body>
        <script>	
            let words = [                                                 
                "марковка",
                "виселица",
                "верблюд",
                "чебурашка"
            ];
            let word = words[Math.floor(Math.random() * words.length)];
            let answerArray = [];
            for (let i = 0; i < word.length; i++){
                answerArray[i] = "_";
            }
            let remainigLetters = word.length;
            let newRemainigLetters = remainigLetters;
            let lives = 7;
            while ((remainigLetters > 0) && (lives !== 0)){
                alert("Жизней: " + lives + "\n" + answerArray.join(" ") + "\n" + remainigLetters + " букв, чтобы пройти");

                let guess = prompt("Угадай букву, или нажми Отмена для выхода из игры.");
/// focus       
                function() {
                    guess.focus();
                };
                

                if (guess === null){
                    break;
                } else if (guess.length !== 1) {
                    alert("Пожалуйста, введите одиночную букву.")
                } else {
                    guess = guess.toLowerCase();
                    for (let j = 0; j < word.length; j++) {
                        if (answerArray[j] === guess) {
                            alert("Извините, эта буква уже здесь ... попробуйте еще раз :|")
                            break;
                        }
                        if(word[j] === guess){
                        answerArray[j] = guess;
                        remainigLetters--;
                        }               
                    }
                }
                if (remainigLetters === newRemainigLetters) {
                    lives--;            
                }
                newRemainigLetters = remainigLetters;
            } 
            if (lives === 0) {
                alert("Ваша жизнь окончена :( Скрытое слово было:" + word);
            } else if(remainigLetters === 0){
                alert("Поздравляю! Скрытое слово было: " + word);
            } else {
                alert("Хххмммм .... ладно, пока .. (-_-)");
            }
        </script>
    </body>
</html>