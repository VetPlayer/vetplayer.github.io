<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Найди клад!</title>
	</head>
	<body>
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<h1 id="main">Найди клад!</h1>

		<p id="distance">С помощью кликов, найди клад, который зарыт где-то на карте</p>

		<img id="map" width=600 height=600
			src="map.jpg">

		

		<script>
			let getRandomNumber = function (size) {
				return Math.floor(Math.random() * size);
			};

			let getDistance = function (event, target) {
					let diffX = event.offsetX - target.x;
					let diffY = event.offsetY - target.y;
					return Math.sqrt((diffX * diffX) + (diffY * diffY));
				};

			let getDistanceHint = function (distance) {
				if (distance < 20) {
					return "Обожжешься!";
				} else if (distance < 40) {
					return "Очень-очень горячо";
				} else if (distance < 60) {
					return "Очень горячо";
				} else if (distance < 80) {
					return "Горячо";
				} else if (distance < 160) {
					return "Тепло";
				} else if (distance < 320) {
					return "Холодно";
				} else if (distance < 550) {
					return "Очень холодно";
				} else {
					return "Замерзнешь!";
				}
			};	

			let width = 600;
			let height = 600;
			let clicks = 0;
			
			let target = {
				x: getRandomNumber(width),
				y: getRandomNumber(height)
			};

			$("#map").click(function(event) {
				clicks++;

				let distance = getDistance(event, target);

				let distanceHint = getDistanceHint(distance);

				$("#distance").text(distanceHint + ". " + "Сделано попыток: " + clicks + " из 10");

				if (distance < 15) {
					alert("Клад найден! Сделано кликов: " + clicks);
					clicks = 0;
					target = {
						x: getRandomNumber(width),
						y: getRandomNumber(height)
					};
				}
				
				if (clicks >= 10) {
					alert("Вы проиграли. Клад не найден =(");
					clicks = 0;
					target = {
						x: getRandomNumber(width),
						y: getRandomNumber(height)
					};
					$("#distance").text("Начнём с начала?");
				}
				
			});
				
				
			








			/*let direccion = "derecha";
			let myTop = 0;

			$("#main").offset({ left: myTop,top: myTop });
			
			let moveHeading = function() {
				if (direccion == "derecha") {
					$("#main").offset({ left: myTop });
					myTop++;
					if (myTop > 200) {
						myTop = 0;
						direccion = "bajo";
					}
				} else if (direccion == "bajo") {
					$("#main").offset({ top: myTop });
					myTop++;
					if (myTop > 200) {
						myTop = 200;
						direccion = "izquerda";
					}
				} else if (direccion == "izquerda") {
					$("#main").offset({ left: myTop });
					myTop--;
					if (myTop < 0) {
						myTop = 200;
						direccion = "arriba";
					}
				} else if (direccion == "arriba") {
					$("#main").offset({ top: myTop });
					myTop--;
					if (myTop < 0) {
						myTop = 0;
						direccion = "derecha";
					}
				}
			};
			
			let rty = setInterval(moveHeading, 100);
			let clicks = 100;
			let cantidad = 0;
				$("#main").click(function() {
				clearInterval(rty);
				clicks -= 10;
				cantidad++;
				rty = setInterval(moveHeading, clicks);
				if (cantidad == 10) {
					$("#main").text("Eto pizdec");
				};
				console.log(clicks + " " + cantidad);
			});	*/
		</script>
	</body>
</html>


